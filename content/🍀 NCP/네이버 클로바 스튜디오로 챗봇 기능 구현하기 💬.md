---
date: 2024-08-02
tags:
  - ncp
  - backend
  - infra
---

---


![](https://velog.velcdn.com/images/hsh111366/post/f7e64e3c-05bb-44f2-a717-f247dc162364/image.png)


7ì›” ì´ë‹¬ì˜ NClouder ì„ ì •ê¸€ ğŸ†

(ë¸”ë¡œê·¸ ë³¸ë¬¸ ë§í¬ : https://blog.naver.com/n_cloudplatform/223539614450)

# 0. ê°œìš” ğŸ“„

## ê°€. NCP X KUSITMS 29th

ì§€ë‚œ 1í•™ê¸° íì‹œì¦˜(í•œêµ­ëŒ€í•™ìƒITê²½ì˜í•™íšŒ) 29ê¸°ì— ë“¤ì–´ê°€ ë°±ì—”ë“œ íŒŒíŠ¸ë¡œ í™œë™ì„ í–ˆë‹¤.
í•´ë‹¹ ê¸°ìˆ˜ì—ì„œëŠ” NCP(ë„¤ì´ë²„ í´ë¼ìš°ë“œ í”Œë«í¼)ì˜ `Green Developers` í”„ë¡œê·¸ë¨ì„ í†µí•´ í˜‘ì—…ì„ ì§„í–‰í–ˆê³ , ì•½ 2ë‹¬ ê°„ ì§„í–‰í•˜ëŠ” `ë°‹ì—… í”„ë¡œì íŠ¸` ì—ì„œ ê°ì‚¬í•˜ê²Œë„ 70ë§Œì› ì´ìƒì˜ í¬ë ˆë”§ì„ ì œê³µë°›ì„ ìˆ˜ ìˆì—ˆë‹¤.

í•´ë‹¹ í”„ë¡œì íŠ¸ì— ëŒ€í•œ íšŒê³ ë¡ ë° ìì„¸í•œ ë‚´ìš©ì€ ì•„ë˜ ë§í¬ì—ì„œ í™•ì¸í•´ë³¼ ìˆ˜ ìˆë‹¤.
(íšŒê³ ë¡ : https://velog.io/@hsh111366/KUSITMS-29ê¸°-2ê°œì›”-ê°„ì˜-ë°‹ì—…-í”„ë¡œì íŠ¸-í›„ê¸°)
(Github : https://github.com/KUSITMS-29th-TEAM-D)

ë•ë¶„ì— ê°œë°œì„ ì§„í–‰í•˜ë©´ì„œ í´ë¼ìš°ë“œ ë¹„ìš©ì— ëŒ€í•œ ë¶€ë‹´ì„ ëœ ìˆ˜ ìˆì—ˆê³ , í‰ì†Œ ì¨ ë³´ê³  ì‹¶ì—ˆë˜ ìƒì„±í˜• AIë„ í™œìš©í•˜ì—¬ ë‹¤ì±„ë¡œìš´ ì„œë¹„ìŠ¤ë“¤ì„ êµ¬í˜„í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤.

NCPì—ëŠ” ì—¬ëŸ¬ ì„œë¹„ìŠ¤ë“¤ì´ ìˆì§€ë§Œ ê·¸ ì¤‘ì—ì„œë„ `ë„¤ì´ë²„ í´ë¡œë°” ìŠ¤íŠœë””ì˜¤`ë¥¼ í™œìš©í•˜ì—¬ ì±—ë´‡ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ê¸°ì—, ì´ë²ˆ ê¸€ì—ì„œëŠ” ì´ë¥¼ ì¤‘ì ìœ¼ë¡œ ì‘ì„±í•´ ë³´ê³ ì í•œë‹¤.

## ë‚˜. ê¸€ì˜ ì‘ì„± ì´ìœ 

í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° NCPë¥¼ í™œìš©í•´ ë³´ë ¤ê³  ë§ì€ ë…¸ë ¥ì„ í–ˆì—ˆë‹¤.
ì‹œê°„ì€ ì´‰ë°•í–ˆì§€ë§Œ, ê²°êµ­ ìš•ì‹¬ì„ ë‚´ì„œ ì±—ë´‡ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸°ë¡œ ê²°ì •í–ˆë‹¤. í•˜ì§€ë§Œ ë” í° ë¬¸ì œëŠ” ì‹œê°„ë³´ë‹¤ `ë ˆí¼ëŸ°ìŠ¤`ê°€ ë§ì´ ì—†ë‹¤ëŠ” ê²ƒì´ì—ˆë‹¤.

ì´ì „ì—ë„ ì™¸ë¶€ APIë¥¼ ì—°ë™í•´ ë³¸ ê²½í—˜ì€ ëª‡ ë²ˆ ìˆì—ˆìœ¼ë‚˜, ëŒ€ë¶€ë¶„ ê°€ì´ë“œê°€ ìƒì„¸í•˜ê²Œ ë‚˜ì™€ ìˆê±°ë‚˜ ì´ë¯¸ ì‚¬ìš©í•œ ì‚¬ëŒë“¤ì˜ ë¸”ë¡œê·¸ ê¸€ ë“±ì´ ë§ì´ ìˆì—ˆê¸°ì— ì–´ë µì§€ ì•Šì•˜ë‹¤.
ë¬¼ë¡  NCPì˜ APIë„ ê°€ì´ë“œë¼ì¸ì´ ì¹œì ˆí•œ í¸ì´ë‚˜, `Spring Boot`ì˜ ê°€ì´ë“œ ì½”ë“œëŠ” ì—†ì—ˆê¸° ë•Œë¬¸ì— ì´ë¥¼ ë³€ê²½í•˜ëŠ” ê³¼ì •ì—ì„œ ì‹œê°„ì´ ì¡°ê¸ˆ ê±¸ë ¸ë˜ ê²ƒ ê°™ë‹¤!

ê·¸ë ‡ê¸°ì— ë‹¤ìŒì— NCP, íŠ¹íˆ `Spring Boot`ë¡œ `ë„¤ì´ë²„ í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ API`ë¥¼ í™œìš©í•  ì‚¬ëŒë“¤ì—ê²Œ ì¡°ê¸ˆì´ë‚˜ë§ˆ ë„ì›€ì„ ì£¼ê³ ì í•˜ì—¬ ì´ ê¸€ì„ ì‘ì„±í•˜ê¸°ë¡œ ê²°ì •í–ˆë‹¤ âœğŸ»

---

# 1. ë°°ê²½ ğŸ’­

## ê°€. ì™œ ë„¤ì´ë²„ í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ì¸ê°€?

ìš”ì¦˜ì—ëŠ” ìƒì„±í˜• AI ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ê³³ë“¤ì´ ì•„ì£¼ ë§ë‹¤. ëŒ€í‘œì ìœ¼ë¡œ `Chat GPT` ..

ê·¸ ì¤‘ì—ì„œë„ NCPì˜ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•œ ì´ìœ ëŠ” ìš°ì„  í¬ë ˆë”§ì„ ì œê³µí•´ì£¼ì—ˆê¸°ì— ë¹„ìš©ì ì¸ ë¶€ë‹´ì´ ì—†ì—ˆë‹¤ëŠ” ì ì´ í´ ê²ƒ ê°™ë‹¤. ì•„ë¬´ë˜ë„ ê°œë°œì„ ì§„í–‰í•˜ë‹¤ ë³´ë©´ í…ŒìŠ¤íŠ¸ë„ ì§„í–‰ì„ í•˜ê³ , ë°°í¬ ì´í›„ì—ë„ ìš”ì²­ì„ ë§ì´ í•˜ê²Œ ë˜ë©´ ëŒ€í•™ìƒë“¤ì˜ ì…ì¥ì—ì„œëŠ” ë¹„ìš©ì´ ê³ ë¯¼ì´ ë  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì´ê¸° ë•Œë¬¸ì´ë‹¤.

ë¬¼ë¡  ì˜¤ë¡œì§€ ë¹„ìš© ë•Œë¬¸ë§Œì€ ì•„ë‹ˆë‹¤! ì´ë²ˆì— NCPë¥¼ ì‚¬ìš©í•´ ë³´ë©° ëŠë‚€ ì ì€ AWS ë“±ê³¼ ê°™ì€ ë‹¤ë¥¸ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ì— ë°€ë¦¬ì§€ ì•Šì„ ì •ë„ë¡œ ë§ì€ ì„œë¹„ìŠ¤ë“¤ì„ ì œê³µí•œë‹¤ëŠ” ì ì´ì—ˆë‹¤. ë˜í•œ ë‹¹ì—°íˆ ëª¨ë“  ê²ƒì´ í•œêµ­ì–´ë¡œ ì¹œì ˆí•˜ê²Œ ì„¤ëª…ì´ ë˜ì–´ ìˆì—ˆê¸° ë•Œë¬¸ì—, ì²˜ìŒ ì‹œë„í•´ë³´ëŠ” ê¸°ëŠ¥ë“¤ì—ë„ ì§„ì…ì¥ë²½ì´ ë‚®ì•„ì§ˆ ìˆ˜ ìˆì—ˆë‹¤.

## ë‚˜. ì±—ë´‡ ê¸°ëŠ¥ ì„¤ê³„

![](https://velog.velcdn.com/images/hsh111366/post/9c05da1f-14ea-4a9c-b837-ed58c1df677f/image.png)


> ìš°ë¦¬ íŒ€ì—ì„œ ë§Œë“  `ì…€í”¼ìŠ¤`ë¼ëŠ” ì„œë¹„ìŠ¤ëŠ”,
**ìœ ì €ì˜ ìê¸°ì´í•´ë¥¼ ë•ê³ , ë¸Œëœë”©ì˜ ì´ˆê¸° ì—¬ì •ì—ì„œ ê²ªëŠ” ëª…í™•í•œ ë°©í–¥ ì„¤ì •ì˜ ì–´ë ¤ì›€ì´ë¼ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ ì í•˜ëŠ” ì„œë¹„ìŠ¤**ì´ë‹¤.

![](https://velog.velcdn.com/images/hsh111366/post/1404b486-fd19-4a6e-b4af-63c0ac618d2c/image.png)

ìê¸°ì´í•´ë¥¼ ë•ëŠ” ê³¼ì •ì—ì„œ ìœ ì € ê³¼ê±°, í˜„ì¬, ë¯¸ë˜ë¥¼ ì•Œì•„ë³´ëŠ” 3ê°€ì§€ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì œê³µí•˜ê²Œ ë˜ëŠ”ë°, ì—¬ê¸°ì„œ `ê³¼ê±° (Discover) í…ŒìŠ¤íŠ¸`ì—ì„œ ì±—ë´‡ ê¸°ëŠ¥ êµ¬í˜„ì´ í•„ìš”í–ˆë‹¤.
í”„ë¡œì„¸ìŠ¤ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

> 1) ì±—ë´‡ì´ ìœ ì €ì—ê²Œ ì§ˆë¬¸ì„ ë˜ì§ (ë¯¸ë¦¬ êµ¬ì„±í•´ ë‘” ì§ˆë¬¸)
2) ìœ ì €ëŠ” ì§ˆë¬¸ì— ë‹µë³€ì„ í•¨.
3) ì±—ë´‡ì€ ë‹µë³€ì— ëŒ€í•´ ê³µê°ì„ í•´ì£¼ê³ , ê°„ë‹¨í•˜ê²Œ ë‹µë³€ì— ëŒ€í•´ ìš”ì•½í•¨.
4) ë‹¤ì‹œ ì§ˆë¬¸ì„ í•˜ë©°, ì¤€ë¹„ëœ ì§ˆë¬¸ì´ ëë‚  ë•Œê¹Œì§€ ìœ„ ê³¼ì •ì„ ë°˜ë³µí•¨.
5) ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ë‹µë³€ì´ ëª¨ë‘ ì¢…ë£Œë˜ë©´, ìš”ì•½ëœ ë‹µë³€ì„ ê¸°ë°˜ìœ¼ë¡œ í‚¤ì›Œë“œ 6ê°œë¥¼ ë½‘ì•„ì„œ ë³´ì—¬ì¤Œ.

ìœ„ ê³¼ì •ì„ í†µí•´ì„œ ìœ ì €ëŠ” ë³¸ì¸ì˜ ê³¼ê±°ë¥¼ ë‹¤ì‹œ ëŒì•„ë³´ë©° ìê¸°ì´í•´ì— ë„ì›€ì„ ì–»ì„ ìˆ˜ê°€ ìˆë‹¤.

ì—¬ê¸°ì„œ ì¡°ê¸ˆ ê¹Œë‹¤ë¡œì› ë˜ ì ì€ ìœ ì €ì˜ ì§ˆë¬¸ì— ì±—ë´‡ì´ ë‹µí•´ì£¼ëŠ” êµ¬ì¡°ê°€ ì•„ë‹ˆë¼,
ì±—ë´‡ì˜ ì§ˆë¬¸ì— ìœ ì €ê°€ ë‹µì„ í•˜ê³  ì±—ë´‡ì€ ì´ì— ëŒ€í•´ ë°˜ì‘ë„ í•´ì£¼ëŠ” êµ¬ì¡°ë¼ëŠ” ì ì´ì—ˆë‹¤.
ì¦‰, ì–´ëŠì •ë„ì˜ `ìƒí˜¸ ì‘ìš©ì´ ê°€ëŠ¥í•œ ì±—ë´‡`ì„ êµ¬í˜„í•´ì•¼ë§Œ í–ˆë‹¤.

## ë‹¤. ê¸°ëŠ¥ êµ¬ì²´í™”

í”„ë¡œì„¸ìŠ¤ë¥¼ ë‹¤ì‹œ í•˜ë‚˜ì”© ë³´ë©´ì„œ ì±—ë´‡ì„ ì–´ë–»ê²Œ êµ¬í˜„í•´ì•¼ í–ˆëŠ”ì§€ ì„¤ëª…í•´ë³´ë„ë¡ í•˜ê² ë‹¤.

### 1) ì±—ë´‡ì´ ìœ ì €ì—ê²Œ ì§ˆë¬¸ì„ ë˜ì§

ì›ë˜ëŠ” ì´ ë¶€ë¶„ë„ ì±—ë´‡ì—ì„œ ì§ˆë¬¸ì„ ìì²´ì ìœ¼ë¡œ êµ¬ì„±í•´ì„œ í•˜ë„ë¡ êµ¬í˜„í•˜ë ¤ í–ˆìœ¼ë‚˜,
ì›í•˜ëŠ” ì§ˆë¬¸ì„ í•˜ì§€ ì•Šì„ ìœ„í—˜ì„±ì´ í¬ê¸° ë•Œë¬¸ì— ì§ˆë¬¸ì„ ë˜ì§€ëŠ” ê±´ ì±—ë´‡ì´ ì•„ë‹Œ APIë¡œ êµ¬í˜„í–ˆë‹¤.

ê° ì¹´í…Œê³ ë¦¬ì— ë§ëŠ” ì§ˆë¬¸ë“¤ì„ ë¯¸ë¦¬ êµ¬ì„±í•´ë‘” í›„ì— Enumìœ¼ë¡œ ê´€ë¦¬í–ˆê³ , API ìš”ì²­ì„ í•˜ë©´ ì¹´í…Œê³ ë¦¬ì— ë§ëŠ” ì§ˆë¬¸ì„ í”„ë¡ íŠ¸ì—”ë“œ ì¸¡ìœ¼ë¡œ ë³´ë‚´ì£¼ì—ˆë‹¤. 

### 2) ì±—ë´‡ì€ ë‹µë³€ì— ëŒ€í•´ ê³µê°ì„ í•´ì£¼ê³ , ê°„ë‹¨í•˜ê²Œ ë‹µë³€ì— ëŒ€í•´ ìš”ì•½í•¨.

ìœ ì €ê°€ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ì„ í•˜ë©´, ì´ë¥¼ ë„¤ì´ë²„ í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ë¥¼ í™œìš©í•´
1) ê³µê°í•˜ëŠ” ë¬¸êµ¬ 2) ë‹µë³€ì— ëŒ€í•œ ìš”ì•½ì„ ë°›ì•„ í”„ë¡ íŠ¸ì—”ë“œ ì¸¡ìœ¼ë¡œ ë°˜í™˜í–ˆë‹¤.

ì¦‰, ì—¬ê¸°ì„œ 2ë²ˆì˜ í´ë¡œë°” API ìš”ì²­ì´ ì§„í–‰ë˜ì—ˆë‹¤. ì´ì— ëŒ€í•œ ìì„¸í•œ êµ¬í˜„ ê³¼ì •ì€ ì•„ë˜ì—ì„œ ì‘ì„±í•´ë³´ë„ë¡ í•˜ê² ë‹¤.

### 3) ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ë‹µë³€ì´ ëª¨ë‘ ì¢…ë£Œë˜ë©´, ìš”ì•½ëœ ë‹µë³€ì„ ê¸°ë°˜ìœ¼ë¡œ í‚¤ì›Œë“œ 6ê°œë¥¼ ë½‘ì•„ì„œ ë³´ì—¬ì¤Œ

ìœ ì €ì˜ ë‹µë³€ê³¼ ì´ì— ëŒ€í•œ ìš”ì•½ë„ ëª¨ë‘ ì €ì¥ì´ ë˜ëŠ” êµ¬ì¡°ì˜€ê¸°ì—, ìµœì¢…ì ìœ¼ë¡œ ìœ ì €ì˜ ë‹µë³€ì„ ê¸°ë°˜ìœ¼ë¡œ ì£¼ìš” í‚¤ì›Œë“œ 6ê°œë¥¼ ë½‘ì•„ë‚¼ ìˆ˜ ìˆì—ˆë‹¤.
ì—¬ê¸°ì„œë„ í‚¤ì›Œë“œ ë„ì¶œì„ ìœ„í•´ 1ë²ˆì˜ í´ë¡œë°” API ìš”ì²­ì´ ì§„í–‰ë˜ì—ˆë‹¤.

> ê²°ë¡ ì ìœ¼ë¡œ ì±—ë´‡ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œ **ì´ 3ê°€ì§€ì˜ í´ë¡œë°” API ìš”ì²­ ë°©ì‹**ì´ í•„ìš”í–ˆë‹¤!

---

# 2. êµ¬í˜„ ê³¼ì • ğŸ§‘ğŸ»â€ğŸ’»

ì§€ê¸ˆë¶€í„° ë³¸ê²©ì ìœ¼ë¡œ ì–´ë–»ê²Œ ë„¤ì´ë²„ í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ APIë¥¼ ì‚¬ìš©í•´ ì±—ë´‡ ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆëŠ”ì§€ ë§í•´ë³´ë„ë¡ í•˜ê² ë‹¤.

## ê°€. NCP íšŒì›ê°€ì… ë° ì„œë¹„ìŠ¤ ì‹ ì²­

ìš°ì„ ì€ ë‹¹ì—°í•˜ê²Œë„ NCPì— ì ‘ì†í•´ íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ì„ í•´ì£¼ì–´ì•¼ í•œë‹¤.

![](https://velog.velcdn.com/images/hsh111366/post/d788db2c-f8e6-4ce9-af65-28133dc970e0/image.png)

ê·¸ë¦¬ê³  ë‚˜ì„œ AI ì¹´í…Œê³ ë¦¬ì—ì„œ í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ë¥¼ ì´ìš© ì‹ ì²­í•œ í›„ì— ì…ì¥í•´ì£¼ë©´ ëœë‹¤.

## ë‚˜. í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ ì…ì¥

![](https://velog.velcdn.com/images/hsh111366/post/22097293-f8eb-460c-84d1-75a79e3faa98/image.png)

í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ì— ì…ì¥ì„ í•˜ë©´ ì´ ì•ˆì—ì„œë„ ì •ë§ ë§ì€ ê¸°ëŠ¥ì„ ì œê³µí•¨ì„ ë³¼ ìˆ˜ ìˆë‹¤.
íŠœë‹ì„ í•˜ê±°ë‚˜ í”„ë¡¬í”„íŒ…ì„ í•´ì„œ ì›í•˜ëŠ” ìƒì„±í˜• AIë¥¼ ë§Œë“¤ì–´ë‚¼ ìˆ˜ê°€ ìˆê³ , í”„ë¡œì íŠ¸ ìƒí™©ì— ë§ê²Œ ëª¨ë¸ ë˜í•œ ì„ íƒí•  ìˆ˜ê°€ ìˆë‹¤.

ë‚˜ë„ ìƒì„±í˜• AIë¥¼ ì—°ë™í•´ ë³¸ ê²ƒì€ ì²˜ìŒì´ì—ˆê¸°ì— ì–´ë–¤ ê±¸ ì„ íƒí•´ì•¼í• ì§€ë¶€í„° ê³ ë¯¼ì´ì—ˆëŠ”ë°.. ì›í•˜ëŠ” ë¬¸êµ¬ë¥¼ ë½‘ì•„ë‚´ê¸° ìœ„í•´ì„œëŠ” í”„ë¡¬í”„íŒ…ì´ í•„ìˆ˜ì ì¼ ê²ƒ ê°™ì•„ì„œ, ì´ë¥¼ ììœ ë¡­ê²Œ ì§„í–‰í•  ìˆ˜ ìˆëŠ” `í”Œë ˆì´ê·¸ë¼ìš´ë“œ`ë¥¼ í™œìš©í•˜ê¸°ë¡œ ê²°ì •í–ˆë‹¤!

## ë‹¤. í”Œë ˆì´ê·¸ë¼ìš´ë“œ

![](https://velog.velcdn.com/images/hsh111366/post/0e3e4abe-d92f-4700-a0fa-59e0e5f4b52a/image.png)

í”Œë ˆì´ê·¸ë¼ìš´ë“œì— ì…ì¥ì„ í•˜ê²Œ ë˜ë©´ ìœ„ì™€ ê°™ì€ í™”ë©´ì´ ë‚˜ì˜¨ë‹¤.

ê°€ì¥ ì¢Œì¸¡ì—ì„œëŠ” íŒŒë¼ë¯¸í„° ì„¤ì • ë˜í•œ ì§„í–‰í•  ìˆ˜ ìˆëŠ”ë° ì´ì— ëŒ€í•œ ìì„¸í•œ ê°€ì´ë“œëŠ” ì•„ë˜ ë§í¬ì—ì„œ ì°¸ê³ í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.
(ë§í¬ : https://guide.ncloud-docs.com/docs/clovastudio-playground)

`ì‹œìŠ¤í…œ`ì´ í”„ë¡¬í”„íŒ…ì„ ì§„í–‰í•˜ëŠ” ê³³ì´ê³ , ì˜¤ë¥¸ìª½ì— `ì‚¬ìš©ì`ê°€ ìœ ì €ë¼ê³  ë³¼ ìˆ˜ ìˆê² ë‹¤.

í•œ ë²ˆ ì‚¬ìš©ìì˜ ë§ì— ê³µê°ì„ í•˜ë„ë¡ í”„ë¡¬í”„íŒ…ì„ ì§„í–‰í•´ë³´ë„ë¡ í•˜ì.

![](https://velog.velcdn.com/images/hsh111366/post/837208d8-d10f-4e5c-a6d7-fedfd99d243a/image.png)

í”„ë¡¬í”„íŒ…ì„ ì§„í–‰í•œ í›„ ë§ì„ í•˜ë©´, ìœ„ì²˜ëŸ¼ ì˜ë„í•œëŒ€ë¡œ ì˜ ë™ì‘í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.
ì´ë¥¼ í™œìš©í•˜ì—¬ ë‚´ê°€ ì›í•˜ëŠ”ëŒ€ë¡œ ìƒì„±í˜• AIë¥¼ ì‚¬ìš©í•  ìˆ˜ê°€ ìˆë‹¤!

ìš°ë¦¬ëŠ” API í˜¸ì¶œì„ í†µí•´ í•´ë‹¹ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ê²ƒì´ê¸°ì—,
ìš°ì„  1) ì €ì¥ì„ í•´ì¤€ í›„ì— 2) í…ŒìŠ¤íŠ¸ ì•±ì„ ë§Œë“¤ì–´ì¤€ë‹¤.

![](https://velog.velcdn.com/images/hsh111366/post/4535bdf2-a1fb-4d6d-863b-504c95aeb313/image.png)

ì•±ì„ ë§Œë“¤ì–´ì£¼ë©´ ìœ„ì™€ ê°™ì´ API í˜¸ì¶œì— í•„ìš”í•œ ì •ë³´ë“¤ì´ ë‚˜ì˜¤ê²Œ ëœë‹¤.
ì—¬ê¸°ì—ëŠ” í‚¤ ê°’ë„ ìˆê¸°ì— ì™¸ë¶€ì— ë…¸ì¶œë˜ì§€ ì•Šë„ë¡ ìœ ì˜í•´ì•¼í•œë‹¤!

ê°€ì¥ ë§¨ ìœ„ë¶€í„° ì°¨ë¡€ëŒ€ë¡œ
`1) API í˜¸ì¶œ ì—”ë“œí¬ì¸íŠ¸ 2) API í‚¤ 3) API ê²Œì´íŠ¸ì›¨ì´ í‚¤` ì´ë©° ì…‹ ëª¨ë‘ API í˜¸ì¶œ ì‹œ í•„ìš”í•˜ë‹ˆ ë”°ë¡œ ì €ì¥ì„ í•´ë‘ë„ë¡ í•˜ì! 
ì´ì™€ ê°™ì€ ì£¼ìš” ì •ë³´ë“¤ì€ í™˜ê²½ë³€ìˆ˜ ì²˜ë¦¬í•´ ì£¼ë©´ ì¢‹ë‹¤.

## ë¼. ìš”ì²­ ê°ì²´

curlì„ ì‚¬ìš©í•˜ì—¬ API í†µì‹ ì„ í•  ìˆ˜ë„ ìˆê² ì§€ë§Œ, ê·¸ë ‡ê²Œ í•˜ë©´ ë³´ê¸°ì—ë„ ê¹”ë”í•˜ì§€ ì•Šê³  í™•ì¥ì„± ë©´ì—ì„œë„ ì¢‹ì§€ ì•Šì„ ê²ƒì´ë¼ê³  íŒë‹¨í–ˆë‹¤.

ë•Œë¬¸ì— í•„ìš”ì— ë”°ë¼ ìš”ì²­ ê°ì²´ë¥¼ ì»¤ìŠ¤í…€í•˜ì—¬ API í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„ì„ í–ˆë‹¤.

![](https://velog.velcdn.com/images/hsh111366/post/dabc56eb-e3a6-4648-a0f4-6e331a81e474/image.png)

ìœ„ëŠ” í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ APIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ìš”ì²­ ë°”ë””ì— ëŒ€í•œ ì„¤ëª…ì´ë‹¤.
ì „ì²´ì ì¸ ê°€ì´ë“œë¼ì¸ì€ ì•„ë˜ ë§í¬ì—ì„œ ì‚´í´ë³¼ ìˆ˜ ìˆë‹¤.
(ë§í¬ : https://api.ncloud-docs.com/docs/clovastudio-chatcompletions)

ì—¬ê¸°ì„œ í•„ìˆ˜ì ìœ¼ë¡œ í•„ìš”í•œ í•„ë“œë“¤ì€ 1) messages 2) ChatMessages.role 3) ChatMessages.content ì´ë©°, ë‚˜ë¨¸ì§€ëŠ” ì¶”ê°€í•˜ì§€ ì•Šì„ ì‹œ ê¸°ë³¸ ê°’ìœ¼ë¡œ ë“¤ì–´ê°€ê²Œ ëœë‹¤.

```curl
"messages" : [ {
    "role" : "system",
    "content" : "test"
  }, {
    "role" : "user",
    "content" : "í…ŒìŠ¤íŠ¸ í•´ë³´ì."
  }, {
    "role" : "assistant",
    "content" : "ì•Œê² ìŠµë‹ˆë‹¤. ë¬´ì—‡ì„ í…ŒìŠ¤íŠ¸í•´ë³¼ê¹Œìš”?"
  } ],

```

ë©”ì‹œì§€ëŠ” ì´ì™€ ê°™ì´ ë¦¬ìŠ¤íŠ¸ ë‚´ Json ê°ì²´ í˜•íƒœë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.
`role`ì— ëŒ€í•´ ì„¤ëª…í•˜ìë©´ `system`ì€ í”„ë¡¬í”„íŒ… ë‚´ìš©, `user`ëŠ” ìœ ì €ì˜ ë§, `assistant`ëŠ” ìœ ì €ì˜ ë§ì— ëŒ€í•œ ì±—ë´‡ì˜ ë‹µë³€ì´ë¼ í•  ìˆ˜ ìˆë‹¤.
ë§¨ ì²˜ìŒì—ë§Œ `system`ì´ ìˆì„ ê²ƒì´ë©°, ì´í›„ë¡œëŠ” `user`ì™€ `assistant`ì´ ë²ˆê°ˆì•„ê°€ë©° ë‚˜ì˜¤ê²Œ ë˜ëŠ” êµ¬ì¡°ì´ë‹¤.

ì—¬ê¸°ì„œ `role`ì€ Enumìœ¼ë¡œ êµ¬ì„±í•´ì•¼ í•˜ëŠ” ì  ê¸°ì–µí•´ë‘ê³ , ì´ì œë¶€í„°ëŠ” ì½”ë“œë¥¼ ë³´ë„ë¡ í•˜ì!

### 1) ClovaDto

```java
package kusitms.jangkku.domain.clova.dto;

import com.fasterxml.jackson.databind.PropertyNamingStrategies;
import com.fasterxml.jackson.databind.annotation.JsonNaming;
import lombok.*;

import java.util.ArrayList;

public class ClovaDto {

    @Builder
    @Getter
    @AllArgsConstructor
    @NoArgsConstructor
    @JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)
    public static class ChatBotRequestDto {
        private ArrayList<Message> messages;
        private double topP;
        private double temperature;
        private int maxTokens;
        private double repeatPenalty;

        public static ChatBotRequestDto DesignPersonaRequestOf() {
            ArrayList<Message> messages = new ArrayList<>();
            messages.add(Message.createDesignPersonaSystemOf());

            return ChatBotRequestDto.builder()
                    .messages(messages)
                    .topP(0.8)
                    .temperature(0.3)
                    .maxTokens(256)
                    .repeatPenalty(5.0)
                    .build();
        }

        public static ChatBotRequestDto DiscoverPersonaReactionRequestOf() {
            ArrayList<Message> messages = new ArrayList<>();
            messages.add(Message.createReactionOf());

            return ChatBotRequestDto.builder()
                    .messages(messages)
                    .topP(0.8)
                    .temperature(0.3)
                    .maxTokens(256)
                    .repeatPenalty(5.0)
                    .build();
        }

        public static ChatBotRequestDto DiscoverPersonaSummaryRequestOf() {
            ArrayList<Message> messages = new ArrayList<>();
            messages.add(Message.createSummaryOf());

            return ChatBotRequestDto.builder()
                    .messages(messages)
                    .topP(0.8)
                    .temperature(0.3)
                    .maxTokens(256)
                    .repeatPenalty(5.0)
                    .build();
        }

        public static ChatBotRequestDto DiscoverPersonaKeywordRequestOf() {
            ArrayList<Message> messages = new ArrayList<>();
            messages.add(Message.createKeywordOf());

            return ChatBotRequestDto.builder()
                    .messages(messages)
                    .topP(0.8)
                    .temperature(0.3)
                    .maxTokens(256)
                    .repeatPenalty(5.0)
                    .build();
        }
    }

    @Builder
    @Getter
    @AllArgsConstructor
    @NoArgsConstructor
    public static class ChatBotResponse {
        private Result result;
    }
}
```

ìœ„ì—ì„œ ì„¤ëª…í•œ **ì‘ë‹µ ë°”ë””ë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•œ DTO í´ë˜ìŠ¤**ì´ë‹¤.
ë©”ì„¸ì§€ë“¤ì„ ë‹´ì„ ë¦¬ìŠ¤íŠ¸ê°€ ìˆìœ¼ë©°, ê·¸ ì™¸ì—ëŠ” ì—¬ëŸ¬ íŒŒë¼ë¯¸í„°ë“¤ì´ í•„ë“œë¡œ ì¡´ì¬í•œë‹¤.
ì—†ì–´ë„ ì‚¬ìš©í•˜ëŠ”ë°ëŠ” ë¬¸ì œê°€ ì—†ì§€ë§Œ, í›„ì— ì¡°ê¸ˆ ë” ìì„¸í•˜ê²Œ í”„ë¡¬í”„íŒ…í•  ìˆ˜ë„ ìˆë„ë¡ ì¼ë‹¨ì€ êµ¬í˜„ì„ í•´ë‘ì—ˆë‹¤.

ì•„ê¹Œ ìœ„ì—ì„œ ì´ 3ê°€ì§€ ë°©ì‹ì˜ ìš”ì²­ ë°©ì‹ì´ í•„ìš”í•˜ë‹¤ê³  í–ˆì—ˆëŠ”ë°, ì±—ë´‡ ê¸°ëŠ¥ ì™¸ì—ë„ ìš”ì•½í•˜ëŠ” ê¸°ëŠ¥ì´ í•„ìš”í–ˆê¸°ì— ê²°ë¡ ì ìœ¼ë¡œëŠ” ìœ„ì²˜ëŸ¼ 4ê°€ì§€ì˜ ë‹¤ë¥¸ DTOë¥¼ ë§Œë“¤ì–´ ë‚´ëŠ” `of ë©”ì„œë“œ`ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í–ˆë‹¤.
(ê·¼ë° of ë©”ì„œë“œë¥¼ ë§ì´ ì‚¬ìš© ì•ˆí•´ë´¤ê¸°ë„ í•˜ê³  ê°ê° êµ¬ë¶„í•˜ê¸° ìœ„í•˜ì—¬ ë©”ì„œë“œëª…ì„ ì´ë ‡ê²Œ ì‘ëª…í–ˆì—ˆëŠ”ë°, ë§ëŠ” ë°©ë²•ì¸ì§€ëŠ” ëª¨ë¥´ê² ë‹¤.. í›„ì— ê°œì„ ì´ í•„ìš”í•  ê²ƒ ê°™ë‹¤ ğŸ˜‚)


```java
        public static ChatBotRequestDto DiscoverPersonaReactionRequestOf() {
            ArrayList<Message> messages = new ArrayList<>();
            messages.add(Message.createReactionOf());

            return ChatBotRequestDto.builder()
                    .messages(messages)
                    .topP(0.8)
                    .temperature(0.3)
                    .maxTokens(256)
                    .repeatPenalty(5.0)
                    .build();
        }
```

ë„ˆë¬´ ë§ìœ¼ë‹ˆ 1ê°œì”© ë”°ë¡œ ë³´ë„ë¡ í•˜ì. 
ë©”ì„¸ì§€ë¥¼ ë‹´ì„ ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ ì£¼ê³ , ê·¸ ê³³ì— ê° ê¸°ëŠ¥ì— ë§ëŠ” ì´ˆê¸° ë©”ì„¸ì§€ë¥¼ ë„£ì–´ì£¼ëŠ” êµ¬ì¡°ì´ë‹¤. ì—¬ê¸°ì—ëŠ” í”„ë¡¬í”„íŒ… ë©”ì„¸ì§€, ì¦‰ `role : system` ë©”ì„¸ì§€ê°€ ë“¤ì–´ê°€ê²Œ ëœë‹¤.

### 2) Message

```java
package kusitms.jangkku.domain.clova.dto;

import jakarta.annotation.PostConstruct;
import lombok.Builder;
import lombok.Data;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

import java.util.Base64;

@Data
@Builder
public class Message {
    private static String designPersonaPrompt;
    private static String reactionPrompt;
    private static String summaryPrompt;
    private static String keywordPrompt;
    private ROLE role;
    private String content;

    public enum ROLE {
        system, user, assistant
    }

    public static Message creatUserOf(String content) {
        return Message.builder()
                .role(ROLE.user)
                .content(content)
                .build();
    }

    public static Message creatSystemOf(String content) {
        return Message.builder()
                .role(ROLE.system)
                .content(content)
                .build();
    }

    public static Message createDesignPersonaSystemOf() {
        return Message.builder()
                .role(Message.ROLE.system)
                .content(new String(Base64.getDecoder().decode(designPersonaPrompt)))
                .build();
    }

    public static Message createReactionOf() {
        return Message.builder()
                .role(Message.ROLE.system)
                .content(new String(Base64.getDecoder().decode(reactionPrompt)))
                .build();
    }

    public static Message createSummaryOf() {
        return Message.builder()
                .role(Message.ROLE.system)
                .content(new String(Base64.getDecoder().decode(summaryPrompt)))
                .build();
    }

    public static Message createKeywordOf() {
        return Message.builder()
                .role(Message.ROLE.system)
                .content(new String(Base64.getDecoder().decode(keywordPrompt)))
                .build();
    }

    @Component
    public static class Config {
        @Value("${clova.prompt.design}")
        private String design;
        @Value("${clova.prompt.discover.reaction}")
        private String reaction;
        @Value("${clova.prompt.discover.summary}")
        private String summary;
        @Value("${clova.prompt.discover.keyword}")
        private String keyword;

        @PostConstruct
        public void init() {
            designPersonaPrompt = design;
            reactionPrompt = reaction;
            summaryPrompt = summary;
            keywordPrompt = keyword;
        }
    }
}
```

ë©”ì„¸ì§€ DTOëŠ” ìœ„ì™€ ê°™ì´ êµ¬ì„±ì„ í–ˆë‹¤.

ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê²ƒì€ `role`ê³¼ í”„ë¡¬í”„íŒ… ë‚´ìš©ì´ë‹¤.
`role`ì€ ìœ„ ê°€ì´ë“œë¼ì¸ì—ì„œ í™•ì¸í–ˆë“¯ì´ `Enum`ìœ¼ë¡œ êµ¬ì„±ì„ í•´ì£¼ì–´ ì‚¬ìš©í•œë‹¤.

í”„ë¡¬í”„íŒ…ê³¼ `role`ì€ ì •í•´ì ¸ ìˆê³ , `content`ë§Œ ë³€ë™ë˜ê¸°ì— ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•´ì„œ Message ê°ì²´ë¥¼ ë§Œë“¤ì–´ì£¼ë„ë¡ í•˜ì˜€ë‹¤.

```java
public static Message creatUserOf(String content) {
        return Message.builder()
                .role(ROLE.user)
                .content(content)
                .build();
    }
```

ì¦‰, ìœ„ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ `role`ì—ëŠ” `user`ê°€ ë“¤ì–´ê°€ê³ , `content`ëŠ” ì¸ìë¡œ ë°›ì€ ìœ ì €ì˜ ë‹µë³€ì´ ë“¤ì–´ê°€ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

```java
    @Component
    public static class Config {
        @Value("${clova.prompt.design}")
        private String design;
        @Value("${clova.prompt.discover.reaction}")
        private String reaction;
        @Value("${clova.prompt.discover.summary}")
        private String summary;
        @Value("${clova.prompt.discover.keyword}")
        private String keyword;

        @PostConstruct
        public void init() {
            designPersonaPrompt = design;
            reactionPrompt = reaction;
            summaryPrompt = summary;
            keywordPrompt = keyword;
        }
    }
```

ì „ì²´ ì½”ë“œì˜ ì•„ë˜ìª½ì—ì„œëŠ” ìœ„ì™€ ê°™ì´ í”„ë¡¬í”„íŒ… í™˜ê²½ë³€ìˆ˜ë¥¼ ì£¼ì…í•´ì£¼ëŠ” ì½”ë“œê°€ ì¡´ì¬í•œë‹¤.
í”„ë¡¬í”„íŒ… ë‚´ìš© ìì²´ëŠ” í•œê¸€ í…ìŠ¤íŠ¸ì—¬ì„œ ì›ë˜ëŠ” ë”°ë¡œ Enum í´ë˜ìŠ¤ë¡œ ë‘ì—ˆì—ˆëŠ”ë°, 
ì´ë¥¼ ë…¸ì¶œí•˜ê³  ì‹¶ì§€ ì•Šê¸°ë„ í•˜ê³  ì¡°ê¸ˆ ë” ê¹”ë”í•˜ê²Œ í•˜ê³  ì‹¶ì–´ í…ìŠ¤íŠ¸ë¥¼ ì¸ì½”ë”© í•œ í›„ì— í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬í•˜ì˜€ë‹¤.

```text
ë„ˆëŠ” ì§€ê¸ˆ ì‚¬ìš©ìì™€ 1ëŒ€1ë¡œ ì§„ì†”í•˜ê²Œ ëŒ€í™”ë¥¼ í•˜ëŠ” ì±—ë´‡ì´ì•¼.
ë„ˆê°€ ì§ˆë¬¸ì„ í–ˆë‹¤ëŠ” ê°€ì •í•˜ì—, ì‚¬ìš©ìê°€ ë‹µë³€ì„ í•  ê±°ì•¼.
ì´ì œ ê·¸ê±°ì— ëŒ€í•œ ê³µê°ì„ í•´ì£¼ë©´ ë¼. ë°˜ë§ë¡œ í•˜ë˜ ì¹œì ˆí•œ ë§íˆ¬ë¡œ í•´ì¤˜. ìƒëŒ€ë°©ì´ ë§í•œ ê²ƒì— ëŒ€í•´ì„œ ìš”ì•½ì„ í•´ì¤€ ë‹¤ìŒì—, ë„ˆê°€ ë§ì„ í•´ì¤˜. ë¬¼ìŒí‘œë¡œ ëë‚´ì§€ë§ˆ. ë„ˆê°€ ë‹¤ì‹œ ì§ˆë¬¸ì„ í•  í•„ìš”ëŠ” ì ˆëŒ€ ì—†ì–´.
ì•„ë˜ëŠ” ì˜ˆì‹œì•¼.

ì‚¬ìš©ì : ë‚˜ëŠ” ì‚¬ë‘ì´ ì†œì‚¬íƒ• ê°™ë‹¤ê³  ìƒê°ì„ í•´.
ì‹œìŠ¤í…œ : ì‚¬ë‘ì´ ì†œì‚¬íƒ• ê°™ë‹¤ê³  ìƒê°í•˜ëŠ”êµ¬ë‚˜! ë¶€ë“œëŸ½ê³  ë‹¬ì½¤í•´ì„œ í–‰ë³µê°ì„ ì£¼ì§€ë§Œ, ë…¹ì•„ë‚´ë ¤ì„œ ì‚¬ë¼ì§€ëŠ” ëª¨ìŠµì´ ë‹®ì•„ì„œ ê·¸ë ‡ê²Œ ëŠë¼ëŠ” ê±¸ ìˆ˜ë„ ìˆê² ë‹¤.
```

ìœ„ëŠ” ì‹¤ì œë¡œ ì‚¬ìš©í–ˆë˜ ê³µê° ë¬¸êµ¬ ìš”ì²­ ì‹œì˜ í”„ë¡¬í”„íŒ… ë‚´ìš©ì´ë‹¤. ì´ë¥¼ ì¸ì½”ë”©í•˜ê²Œ ë˜ë©´ ì•„ë˜ì²˜ëŸ¼ ë³€í™˜ëœë‹¤.

```
64SI64qUIOyngOq4iCDsgqzsmqnsnpDsmYAgMeuMgDHroZwg7KeE7IaU7ZWY6rKMIOuMgO2ZlOulvCDtlZjripQg7LGX67SH7J207JW8Lg0K64SI6rCAIOyniOusuOydhCDtlojri6TripQg6rCA7KCV7ZWY7JeQLCDsgqzsmqnsnpDqsIAg64u167OA7J2EIO2VoCDqsbDslbwuDQrsnbTsoJwg6re46rGw7JeQIOuMgO2VnCDqs7XqsJDsnYQg7ZW07KO866m0IOuPvC4g67CY66eQ66GcIO2VmOuQmCDsuZzsoIjtlZwg66eQ7Yis66GcIO2VtOykmC4g7IOB64yA67Cp7J20IOunkO2VnCDqsoPsl5Ag64yA7ZW07IScIOyalOyVveydhCDtlbTspIAg64uk7J2M7JeQLCDrhIjqsIAg66eQ7J2EIO2VtOykmC4g66y87J2M7ZGc66GcIOuBneuCtOyngOuniC4g64SI6rCAIOuLpOyLnCDsp4jrrLjsnYQg7ZWgIO2VhOyalOuKlCDsoIjrjIAg7JeG7Ja0Lg0K7JWE656Y64qUIOyYiOyLnOyVvC4NCg0K7IKs7Jqp7J6QIDog64KY64qUIOyCrOuekeydtCDshpzsgqztg5Ug6rCZ64uk6rOgIOyDneqwgeydhCDtlbQuDQrsi5zsiqTthZwgOiDsgqzrnpHsnbQg7Iac7IKs7YOVIOqwmeuLpOqzoCDsg53qsIHtlZjripTqtazrgpghIOu2gOuTnOufveqzoCDri6zsvaTtlbTshJwg7ZaJ67O16rCQ7J2EIOyjvOyngOunjCwg64W57JWE64K066Ck7IScIOyCrOudvOyngOuKlCDrqqjsirXsnbQg64uu7JWE7IScIOq3uOugh+qyjCDripDrgbzripQg6rG4IOyImOuPhCDsnojqsqDri6Qu
```

```java
public static Message createReactionOf() {
        return Message.builder()
                .role(Message.ROLE.system)
                .content(new String(Base64.getDecoder().decode(reactionPrompt)))
                .build();
    }
```

ì¸ì½”ë”©í•´ì„œ ë„£ì–´ì£¼ì—ˆê¸°ì— ë‹¹ì—°íˆ ìœ„ì²˜ëŸ¼ DTO êµ¬ì„± ì‹œì—ëŠ” ë””ì½”ë”© í•´ì£¼ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.

ì´ë ‡ê²Œ í”„ë¡¬í”„íŒ… ë‚´ìš©ì„ ì¸ì½”ë”©í•˜ì—¬ ì‚¬ìš©í•˜ë‹ˆ ê¹”ë”í•´ ë³´ì´ëŠ” ì ë„ ì¢‹ì•˜ì§€ë§Œ, ë°°í¬ í›„ì—ë„ ì½”ë“œì˜ ë³€ê²½ ì—†ì´ í”„ë¡¬í”„íŒ… ë‚´ìš©ì„ ë§ˆìŒëŒ€ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ ê°€ì¥ ì¢‹ì•˜ë‹¤.
ë§Œì•½ í”„ë¡¬í”„íŒ… ë‚´ìš©ì„ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´ ìƒˆë¡­ê²Œ ì‘ì„±í•œ í›„ì— ì¸ì½”ë”©ì„ ì§„í–‰í•˜ê³ , ë°°í¬ ì„œë²„ì˜ í™˜ê²½ë³€ìˆ˜ë§Œ ë°”ê¿”ì£¼ë©´ ë˜ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.

## ë§ˆ. WebClient

ìœ„ ê³¼ì •ì„ í†µí•´ì„œ ì‘ë‹µ ê°ì²´ êµ¬ì„±ê¹Œì§€ëŠ” ì™„ë£Œê°€ ë˜ì—ˆë‹¤.
ì§€ê¸ˆë¶€í„°ëŠ” ì™¸ë¶€ API ì—°ë™ì„ ìœ„í•´ì„œ, `WebClient`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì•¼ í•œë‹¤.

ì—¬ê¸°ì—ëŠ” ì£¼ë¡œ `WebClient`ì™€ `RestTemplate` ë°©ì‹ì´ ì¡´ì¬í•˜ëŠ”ë°, ì¡°ê¸ˆ ë” ìµœì‹  ê¸°ìˆ ì´ë¼ê³  ì—¬ê²¨ì§€ëŠ” `WebClient`ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ ê²°ì •í–ˆë‹¤.

### 1) build.gradle

```java
plugins {
    id 'java'
    id 'org.springframework.boot' version '3.2.4'
    id 'io.spring.dependency-management' version '1.1.4'
}

group = 'kusitms'
version = '0.0.1-SNAPSHOT'

java {
    sourceCompatibility = '17'
}

repositories {
    mavenCentral()
}

dependencies {
    // ì›¹
    implementation 'org.springframework.boot:spring-boot-starter-web'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    // JPA
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    runtimeOnly 'com.mysql:mysql-connector-j'
    // Redis
    implementation 'org.springframework.boot:spring-boot-starter-data-redis'
    // OAuth 2.0
    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'
    // Jwt
    implementation 'io.jsonwebtoken:jjwt-api:0.12.2'
    implementation 'io.jsonwebtoken:jjwt-impl:0.12.2'
    implementation 'io.jsonwebtoken:jjwt-jackson:0.12.2'
    // ì‹œíë¦¬í‹°
    implementation 'org.springframework.boot:spring-boot-starter-security'
    implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity6'
    testImplementation 'org.springframework.security:spring-security-test'
    // ë¡¬ë³µ
    compileOnly 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'
    // h2
    runtimeOnly 'com.h2database:h2'
    // WebClient
    implementation 'org.springframework.boot:spring-boot-starter-webflux'
    // S3
    implementation 'org.springframework.cloud:spring-cloud-starter-aws:2.2.6.RELEASE'
}

tasks.named('test') {
    useJUnitPlatform()
}
```

`WebClient`ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ìœ„ì™€ ê°™ì´ ì˜ì¡´ì„± ì¶”ê°€ë¥¼ í•´ì£¼ì–´ì•¼ í•œë‹¤!

### 2) WebClientConfig

```java
package kusitms.jangkku.global.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.reactive.function.client.WebClient;

@Configuration
public class WebClientConfig {

    @Bean
    public WebClient webClient(WebClient.Builder builder) {
        return builder.build();
    }
}
```

ë˜í•œ config í´ë˜ìŠ¤ë„ ë§Œë“¤ì–´ì£¼ë„ë¡ í•˜ì.

## ë°”. í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ API í†µì‹ 

ì§€ê¸ˆê¹Œì§€ ì•±ì„ ìƒì„±í•˜ì—¬ í‚¤ê°’ë“¤ì„ ì €ì¥í•˜ê³ , ê°€ì´ë“œë¼ì¸ì„ í™•ì¸í–ˆìœ¼ë©°, ìš”ì²­ ê°ì²´ì™€ WebClient ì„¤ì •ê¹Œì§€ ë§ˆì³¤ìœ¼ë¯€ë¡œ, ì´ì œëŠ” í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ API í†µì‹ ì„ í•  ì¤€ë¹„ê°€ ë˜ì—ˆë‹¤.

### 1) ClovaService

```java
package kusitms.jangkku.domain.clova.application;

import org.springframework.stereotype.Service;

@Service
public interface ClovaService {
    String createDesignPersona(String message);
    String createDiscoverPersonaReaction(String message);
    String createDiscoverPersonaSummary(String message);
    String createDiscoverPersonaKeywords(String message);
}
```

í´ë¡œë°” ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.

### 2) ClovaServiceImpl

```java
package kusitms.jangkku.domain.clova.application;

import jakarta.transaction.Transactional;
import kusitms.jangkku.domain.clova.dto.ClovaDto;
import kusitms.jangkku.domain.clova.dto.Message;
import lombok.RequiredArgsConstructor;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Service;
import org.springframework.web.reactive.function.client.WebClient;
import reactor.core.publisher.Mono;

@Service
@Transactional
@RequiredArgsConstructor
public class ClovaServiceImpl implements ClovaService {

    @Value("${clova.api.url}")
    public String apiUrl;
    @Value("${clova.api.api-key}")
    private String apiKey;
    @Value("${clova.api.api-gateway-key}")
    private String apiGatewayKey;
    private final WebClient webClient;

    // ì„¤ê³„í•˜ê¸° í˜ë¥´ì†Œë‚˜ë¥¼ CLOVAë¡œ ìƒì„±í•˜ëŠ” ë©”ì„œë“œ
    @Override
    public String createDesignPersona(String message) {
        ClovaDto.ChatBotRequestDto request = ClovaDto.ChatBotRequestDto.DesignPersonaRequestOf();
        request.getMessages().add(Message.creatUserOf(message));

        return requestWebClient(request);
    }

    // ëŒì•„ë³´ê¸° í˜ë¥´ì†Œë‚˜ ê³µê°ì„ ìƒì„±í•˜ëŠ” ë©”ì„œë“œ
    @Override
    public String createDiscoverPersonaReaction(String message) {
        ClovaDto.ChatBotRequestDto request = ClovaDto.ChatBotRequestDto.DiscoverPersonaReactionRequestOf();
        request.getMessages().add(Message.creatUserOf(message));

        return requestWebClient(request);
    }

    // ëŒì•„ë³´ê¸° í˜ë¥´ì†Œë‚˜ ìš”ì•½ì„ ìƒì„±í•˜ëŠ” ë©”ì„œë“œ
    @Override
    public String createDiscoverPersonaSummary(String message) {
        ClovaDto.ChatBotRequestDto request = ClovaDto.ChatBotRequestDto.DiscoverPersonaSummaryRequestOf();
        request.getMessages().add(Message.creatUserOf(message));

        return requestWebClient(request);
    }

    // ëŒì•„ë³´ê¸° í˜ë¥´ì†Œë‚˜ í‚¤ì›Œë“œë¥¼ ìƒì„±í•˜ëŠ” ë©”ì„œë“œ
    @Override
    public String createDiscoverPersonaKeywords(String message) {
        ClovaDto.ChatBotRequestDto request = ClovaDto.ChatBotRequestDto.DiscoverPersonaKeywordRequestOf();
        request.getMessages().add(Message.creatUserOf(message));

        return requestWebClient(request);
    }

    // CLOVAì™€ í†µì‹ í•˜ì—¬ ë‹µë³€ì„ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œ
    public String requestWebClient(ClovaDto.ChatBotRequestDto request) {
        ClovaDto.ChatBotResponse message = webClient.post()
                .uri(apiUrl)
                .header("X-NCP-CLOVASTUDIO-API-KEY", apiKey)
                .header("X-NCP-APIGW-API-KEY", apiGatewayKey)
                .header("Content-Type", "application/json")
                .body(Mono.just(request), request.getClass())
                .retrieve()
                .bodyToMono(ClovaDto.ChatBotResponse.class)
                .block();

        return message.getResult().getMessage().getContent();
    }
}
```

ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ êµ¬í˜„ì²´ ì „ì²´ ì½”ë“œì´ë‹¤. ìœ„ë¶€í„° ì°¨ê·¼ì°¨ê·¼ ì‚´í´ë³´ë„ë¡ í•˜ì.

```java
	@Value("${clova.api.url}")
    public String apiUrl;
    @Value("${clova.api.api-key}")
    private String apiKey;
    @Value("${clova.api.api-gateway-key}")
    private String apiGatewayKey;
    private final WebClient webClient;
```

ì•„ê¹Œ ì €ì¥í•œ í‚¤ ê°’ë“¤ì„ í™˜ê²½ë³€ìˆ˜ ì²˜ë¦¬í•œ í›„ ì£¼ì…í•´ì¤€ë‹¤. ë˜í•œ `WebClient`ë„ ì‚¬ìš©í•´ì•¼ í•˜ë‹ˆ ë§Œë“¤ì–´ ì¤€ë‹¤.

```java
	// CLOVAì™€ í†µì‹ í•˜ì—¬ ë‹µë³€ì„ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œ
    public String requestWebClient(ClovaDto.ChatBotRequestDto request) {
        ClovaDto.ChatBotResponse message = webClient.post()
                .uri(apiUrl)
                .header("X-NCP-CLOVASTUDIO-API-KEY", apiKey)
                .header("X-NCP-APIGW-API-KEY", apiGatewayKey)
                .header("Content-Type", "application/json")
                .body(Mono.just(request), request.getClass())
                .retrieve()
                .bodyToMono(ClovaDto.ChatBotResponse.class)
                .block();

        return message.getResult().getMessage().getContent();
    }
```

ìœ„ ì½”ë“œê°€ ì‹¤ì§ˆì ìœ¼ë¡œ í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ API í†µì‹ ì„ ì§„í–‰í•˜ëŠ” ë©”ì„œë“œì´ë‹¤.

![](https://velog.velcdn.com/images/hsh111366/post/16120da5-1c2c-4788-ada4-01b7765c5971/image.png)

ìš”ì²­ í—¤ë”ì— ëŒ€í•œ ê°€ì´ë“œë¼ì¸ì„ ë³´ë©´ API í‚¤, ê²Œì´íŠ¸ì›¨ì´ í‚¤, ì»¨í…ì¸  íƒ€ì…ì´ í•„ìˆ˜ í—¤ë” ê°’ìœ¼ë¡œ ì§€ì •ë˜ì–´ ìˆë‹¤. 
ê·¸ëŸ¬ë¯€ë¡œ URI, ìš”ì²­ ë°”ë””ì™€ í•¨ê»˜ í•„ìˆ˜ì ìœ¼ë¡œ ë„£ì–´ì£¼ì–´ì•¼ ìš”ì²­ì´ ì œëŒ€ë¡œ ë“¤ì–´ê°„ë‹¤.

```java
	// ëŒì•„ë³´ê¸° í˜ë¥´ì†Œë‚˜ ê³µê°ì„ ìƒì„±í•˜ëŠ” ë©”ì„œë“œ
    @Override
    public String createDiscoverPersonaReaction(String message) {
        ClovaDto.ChatBotRequestDto request = ClovaDto.ChatBotRequestDto.DiscoverPersonaReactionRequestOf();
        request.getMessages().add(Message.creatUserOf(message));

        return requestWebClient(request);
    }
```

ê·¸ë¦¬ê³  ìµœì¢…ì ìœ¼ë¡œ êµ¬í˜„í•œ ë©”ì„œë“œì—ì„œ ì§€ê¸ˆê¹Œì§€ ë§Œë“¤ì–´ ë‘” ë©”ì„œë“œë“¤ì„ í˜¸ì¶œí•˜ì—¬ ì›í•˜ëŠ” ì‘ë‹µì„ ë°›ì•„ì˜¤ê²Œ ëœë‹¤.

`request`ëŠ” ì‘ë‹µ ë°”ë””ì´ë©°, `DiscoverPersonaReactionRequestOf`ì™€ ê°™ì€ `of ë©”ì„œë“œ`ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ë©”ì‹œì§€ ë¦¬ìŠ¤íŠ¸ì—ëŠ” ì´ë¯¸ í”„ë¡¬í”„íŒ… ë‚´ìš© (`role : system`)ì´ ë“¤ì–´ê°€ ìˆê²Œ ëœë‹¤.
í•´ë‹¹ ë©”ì‹œì§€ ë¦¬ìŠ¤íŠ¸ì— ìœ ì €ì˜ ë‹µë³€ (`role : user`)ë§Œ ì¶”ê°€í•´ì„œ ë³´ëƒ„ìœ¼ë¡œì¨, ì›í•˜ëŠ” ë‹µë³€ (`role : assistant`)ì„ ë„ì¶œí•´ë‚¼ ìˆ˜ê°€ ìˆë‹¤.

## ì‚¬. ë°±ì—”ë“œ API êµ¬í˜„

ê·¸ëŸ¼ ì´ì œ ë§ˆì§€ë§‰ìœ¼ë¡œ ì§€ê¸ˆê¹Œì§€ ë§Œë“¤ì–´ ë‚¸ í´ë¡œë°” ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•œ APIë¥¼ êµ¬í˜„í•˜ì—¬, í”„ë¡ íŠ¸ì—”ë“œ ì¸¡ì—ì„œ ìƒí™©ì— ë§ê²Œ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ í•´ë³´ì.

ì§ˆë¬¸ë¶€í„° ê²°ê³¼ í‚¤ì›Œë“œ ë„ì¶œê¹Œì§€ ì°¨ë¡€ëŒ€ë¡œ ì„¤ëª…í•´ë³´ë„ë¡ í•˜ê² ë‹¤.

### 1) ì§ˆë¬¸ ìš”ì²­ API

```java
	// ëŒì•„ë³´ê¸° í˜ë¥´ì†Œë‚˜ ì§ˆë¬¸ì„ ì‘ë‹µ ë°›ëŠ” API
    @GetMapping("/discover/question")
    public ResponseEntity<ApiResponse<DiscoverPersonaDto.QuestionResponse>> getNewQuestion(
            @RequestHeader("Authorization") String authorizationHeader,
            @RequestParam("category") String category) {

        DiscoverPersonaDto.QuestionResponse questionResponse = discoverPersonaService.getNewQuestion(authorizationHeader, category);

        return ApiResponse.onSuccess(PersonaSuccessStatus.CREATED_NEW_QUESTION, questionResponse);
    }
```

ìš°ì„  ì–´ë–¤ ì¹´í…Œê³ ë¦¬ì˜ ì§ˆë¬¸ì´ í•„ìš”í•œì§€ë§Œ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤.

```java
 	// ì§ˆë¬¸ì„ ìƒˆë¡­ê²Œ ìƒì„±í•˜ë©° ì±„íŒ…ì„ ì‹œì‘í•˜ëŠ” ë©”ì„œë“œ
    @Override
    public DiscoverPersonaDto.QuestionResponse getNewQuestion(String authorizationHeader, String category) {
        User user = jwtUtil.getUserFromHeader(authorizationHeader);

        DiscoverPersona discoverPersona;
        if (discoverPersonaRepository.existsByUserAndCategory(user, category)) {
            discoverPersona = getDiscoverPersona(user, category);
            if (discoverPersona.getIsComplete()) {
                throw new PersonaException(PersonaErrorResult.IS_ALREADY_COMPLETED);
            }
        } else {
            discoverPersona = DiscoverPersona.builder()
                    .user(user)
                    .category(category)
                    .build();
            discoverPersonaRepository.save(discoverPersona);
        }

        List<Integer> questionNumbers = discoverPersonaChattingRepository.findQuestionNumbersByDiscoverPersona(discoverPersona);
        int newQuestionNumber = questionNumbers.size() + 1;
        if (newQuestionNumber == 3) {
            discoverPersona.updateComplete(true); // ì™„ë£Œ ì²˜ë¦¬
            discoverPersonaRepository.save(discoverPersona);
        }
        String newQuestionContent = getConversation(category, newQuestionNumber);

        DiscoverPersonaChatting newDiscoverPersonaChatting = DiscoverPersonaChatting.builder()
                .discoverPersona(discoverPersona)
                .questionNumber(newQuestionNumber)
                .question(getQuestion(category, newQuestionNumber))
                .build();
        discoverPersonaChattingRepository.save(newDiscoverPersonaChatting);

        return DiscoverPersonaDto.QuestionResponse.of(newDiscoverPersonaChatting.getId(), newQuestionContent, discoverPersona.getIsComplete());
    }
```

ìì„¸í•œ ë™ì‘ê³¼ì •ì€ ë³µì¡í•˜ë‹ˆ ìƒëµí•˜ë„ë¡ í•˜ê² ë‹¤.

ì¤‘ìš”í•œ ì ì€ 
1) ì¤€ë¹„í•œ ì§ˆë¬¸ì´ ì™„ë£Œë˜ë©´ ì™„ë£Œì²˜ë¦¬ë˜ì–´ ë” ì´ìƒ ì§ˆë¬¸ ìš”ì²­í•  ìˆ˜ ì—†ë„ë¡ í•œë‹¤.
2) ê° ì§ˆë¬¸ë§ˆë‹¤ì˜ ë‹µë³€ & ê³µê° & ìš”ì•½ì´ ë§¤ì¹­ë˜ì–´ì•¼ í•˜ê¸°ì— `chattingId`ë¥¼ ë°˜í™˜í•´ì£¼ì–´ì•¼ í•œë‹¤.
ì •ë„ê°€ ìˆì„ ê²ƒ ê°™ë‹¤!

### ğŸ–¥ï¸ í…ŒìŠ¤íŠ¸ í™”ë©´

![](https://velog.velcdn.com/images/hsh111366/post/7c40cecf-79b7-4d78-a692-9e9e030af9a8/image.png)

ìœ„ì²˜ëŸ¼ API í˜¸ì¶œì„ í•˜ë©° í”„ë¡ íŠ¸ì—”ë“œ ì¸¡ì€ ìƒˆë¡œìš´ ì§ˆë¬¸ì„ ì‘ë‹µ ë°›ì„ ìˆ˜ ìˆë‹¤.
í˜„ì¬ëŠ” ê±´ê°• ì¹´í…Œê³ ë¦¬ì˜ ë§ˆì§€ë§‰ ì§ˆë¬¸ì„ ì‘ë‹µ ë°›ì•˜ë‹¤.


### 2) ê³µê° & ìš”ì•½ ë¬¸êµ¬ ìš”ì²­ API

```java
	// ëŒì•„ë³´ê¸° í˜ë¥´ì†Œë‚˜ ê³µê° & ìš”ì•½ì„ ì‘ë‹µ ë°›ëŠ” API
    @PostMapping("/discover/answer")
    public ResponseEntity<ApiResponse<DiscoverPersonaDto.AnswerResponse>> getReactionAndSummary(
            @RequestHeader("Authorization") String authorizationHeader,
            @RequestBody DiscoverPersonaDto.AnswerRequest answerRequest) {

        DiscoverPersonaDto.AnswerResponse answerResponse = discoverPersonaService.getReactionAndSummary(authorizationHeader, answerRequest);

        return ApiResponse.onSuccess(PersonaSuccessStatus.CREATED_REACTION_AND_SUMMARY, answerResponse);
    }
```

ë‹µë³€ì— ëŒ€í•œ ê³µê°ê³¼ ìš”ì•½ì„ í•¨ê»˜ ì‘ë‹µ ë°›ì„ ìˆ˜ ìˆëŠ” APIì´ë‹¤.

```java
	// ê³µê°ê³¼ ìš”ì•½ì„ ìƒì„±í•´ ì‘ë‹µí•˜ëŠ” ë©”ì„œë“œ
    @Override
    public DiscoverPersonaDto.AnswerResponse getReactionAndSummary(String authorizationHeader, DiscoverPersonaDto.AnswerRequest answerRequest) {
        User user = jwtUtil.getUserFromHeader(authorizationHeader);

        DiscoverPersonaChatting discoverPersonaChatting = discoverPersonaChattingRepository.findById(answerRequest.getChattingId())
                .orElseThrow(() -> new PersonaException(PersonaErrorResult.NOT_FOUND_CHATTING));

        DiscoverPersona discoverPersona = discoverPersonaChatting.getDiscoverPersona();

        String reaction = clovaService.createDiscoverPersonaReaction(answerRequest.getAnswer());
        // ë§ˆì§€ë§‰ ëŒ€í™”ì¸ ê²½ìš° ë§ˆë¬´ë¦¬ ë©˜íŠ¸ ì¶”ê°€
        if (discoverPersona.getIsComplete()) {
            String category = discoverPersona.getCategory();
            String finalComment = getConversation(category, 0);
            reaction += finalComment;
        }
        String summary = clovaService.createDiscoverPersonaSummary(answerRequest.getAnswer());

        discoverPersonaChatting.updateAnswer(answerRequest.getAnswer());
        discoverPersonaChatting.updateReaction(reaction);
        discoverPersonaChatting.updateSummary(summary);
        discoverPersonaChattingRepository.save(discoverPersonaChatting);

        // ëŒ€í™”ê°€ ì™„ë£Œëœ ê²½ìš° í‚¤ì›Œë“œ ìƒì„±
        if (discoverPersona.getIsComplete()) {
            createPersonaKeywords(discoverPersona);
        }

        return DiscoverPersonaDto.AnswerResponse.of(discoverPersonaChatting.getQuestion(), reaction, summary);
    }
```

ìš°ì„ ì€ ì±„íŒ… ì•„ì´ë””ë¡œ ì±„íŒ… ê°ì²´ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤. 

```java
String reaction = clovaService.createDiscoverPersonaReaction(answerRequest.getAnswer());

String summary = clovaService.createDiscoverPersonaSummary(answerRequest.getAnswer());
```

ì—¬ê¸°ì„œ í´ë¡œë°” ì„œë¹„ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬, ê°ê° ê³µê°ê³¼ ìš”ì•½ì„ ë°›ì•„ì˜¨ë‹¤.
ì§€ê¸ˆê¹Œì§€ì˜ ê³¼ì •ì„ í†µí•´ì„œ í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ API í˜¸ì¶œì„ ìœ„í•œ ì¤€ë¹„ë¥¼ ë¯¸ë¦¬ ë‹¤ í•´ë‘ì—ˆê¸° ë•Œë¬¸ì—, ì´ì²˜ëŸ¼ ì„œë¹„ìŠ¤ ë‹¨ì—ì„œëŠ” ê°„ë‹¨í•˜ê²Œ í˜¸ì¶œë¡œ ì›í•˜ëŠ” ë¬¸êµ¬ë¥¼ ì–»ì–´ì˜¬ ìˆ˜ê°€ ìˆë‹¤!

ë˜í•œ ë§ˆì§€ë§‰ ì§ˆë¬¸ì— ëŒ€í•œ ì‘ë‹µì¸ ê²½ìš°ì—ëŠ”, ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ 6ê°œì˜ í‚¤ì›Œë“œ ë˜í•œ API í˜¸ì¶œë¡œ ìƒì„±í•˜ì—¬ DBì— ì €ì¥í•´ ë‘”ë‹¤. 

### ğŸ–¥ï¸ í…ŒìŠ¤íŠ¸ í™”ë©´

![](https://velog.velcdn.com/images/hsh111366/post/43a54052-46ac-4a33-b813-8e37a4537634/image.png)

ìœ„ ì§ˆë¬¸ì˜ `chattingId`ì™€ `answer`ë¥¼ ë°”ë””ì— ë„£ì–´ ìš”ì²­í•˜ë‹ˆ, ìœ„ì™€ ê°™ì´ ê³µê°ê³¼ ìš”ì•½ ë¬¸êµ¬ë¥¼ ë°›ì„ ìˆ˜ ìˆì—ˆë‹¤. 
ë§ˆì§€ë§‰ ì§ˆë¬¸ì´ì—ˆê¸°ì— ë§ˆë¬´ë¦¬ ë©˜íŠ¸ ë˜í•œ ì¶”ê°€ê°€ ëœ ìƒíƒœì´ë©°, DBì—ë„ ì•„ë˜ì™€ ê°™ì´ í‚¤ì›Œë“œ 6ê°œê°€ ì €ì¥ë˜ì—ˆë‹¤.

![](https://velog.velcdn.com/images/hsh111366/post/cab8c3d6-30d8-4b32-a547-1ee9a56e7f9c/image.png)

![](https://velog.velcdn.com/images/hsh111366/post/1a8248a1-497d-4887-abee-fb518a38ed46/image.png)

ë‹¤ë§Œ ì—¬ê¸°ì„œ ì¡°ê¸ˆ ì•„ì‰¬ì› ë˜ ì ì€, í‚¤ì›Œë“œ 6ê°œë¥¼ í˜•ìš©ì‚¬ ìœ„ì£¼ë¡œ ë½‘ì•„ë‚´ê³  ì‹¶ì—ˆëŠ”ë° ë‹¨ìˆœíˆ ìš”ì•½í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ í”„ë¡¬í”„íŒ…ìœ¼ë¡œ ê³ ë„í™”í•œ ê²ƒì´ì—ˆê¸°ì— ì›í•˜ëŠ”ëŒ€ë¡œ êµ¬í˜„í•˜ì§€ëŠ” ëª»í–ˆì—ˆë‹¤ ğŸ¥²
ì‹œê°„ì´ ë” ìˆì—ˆë‹¤ë©´ ì¡°ê¸ˆ ë” ì¢‹ì€ ë°©ì‹ì„ ìƒê°í•´ë³´ì•˜ì„ ê²ƒ ê°™ì€ë° ì•„ì‰¬ìš´ ë¶€ë¶„ì´ë‹¤!

---

# 3. ê²°ê³¼ âœ¨

![](https://velog.velcdn.com/images/hsh111366/post/c447c10b-ac51-4503-a118-7b01a0b9b6c4/image.gif)

---

# 4. ëŠë‚€ ì  ğŸ’¡

ì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ NCPë¥¼ ë§ì´ ì‚¬ìš©í•´ë³´ë©´ì„œ ëŠë‚€ ì ì´ ëª‡ ê°€ì§€ ìˆë‹¤.

## ê°€. ìƒê°ë³´ë‹¤ ë†’ì€ ë¹„ìš©

í¬ë ˆë”§ì„ í†µí•´ì„œ ë¬´ë£Œë¡œ í™œìš©í–ˆê¸°ì— ì´ëŸ¬í•œ ë¶€ë‹´ì´ ìˆì§€ëŠ” ì•Šì•˜ìœ¼ë‚˜, íƒ€ ì„œë¹„ìŠ¤ì— ë¹„í•´ ìƒê°ë³´ë‹¤ ë¹„ìš©ì´ ë§ì´ ë“œëŠ” í¸ì´ë¼ëŠ” ê±¸ ì•Œ ìˆ˜ ìˆì—ˆë‹¤..! ë¹„ìš© ì±…ì •ì´ ì–´ë–»ê²Œ ë˜ëŠ” ê²ƒì¸ì§€ëŠ” ëª¨ë¥´ê² ìœ¼ë‚˜, ì•„ë¬´ë˜ë„ ì†Œë¹„ìì˜ ì…ì¥ì—ì„œëŠ” ì¡°ê¸ˆ ë” ë¶€ë‹´ì´ ë  ìˆ˜ë„ ìˆì„ ë“¯ í•˜ë‹¤.

## ë‚˜. ë ˆí¼ëŸ°ìŠ¤ ë¶€ì¡±

ì´ëŠ” ìœ„ì—ì„œë„ ë§í–ˆì§€ë§Œ ê´€ë ¨í•œ ë ˆí¼ëŸ°ìŠ¤ê°€ ì•„ì§ ë§ì´ ì—†ëŠ” ìƒíƒœì´ë‹¤. í•˜ì§€ë§Œ ì´ëŠ” NCPì˜ ì„œë¹„ìŠ¤ê°€ ì ì  ë” ë°œì „í•˜ê³ , ì‚¬ìš©ìê°€ ëŠ˜ì–´ë‚œë‹¤ë©´ ìì—°ìŠ¤ë ˆ í•´ê²°ë  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì¸ ê²ƒ ê°™ë‹¤.

ë‚˜ë„ ì´ ë¶€ë¶„ì— ì¡°ê¸ˆì´ë‚˜ë§ˆ ê¸°ì—¬ë¥¼ í–ˆë‹¤ë©´ ë¿Œë“¯í•  ê²ƒ ê°™ë‹¤ ğŸ˜Œ 

## ë‹¤. í•œê¸€ ë¬¸ì„œ

ë¬¼ë¡  ì¢‹ì€ ì ë„ ë§ì•˜ë‹¤!
ëª¨ë“  ë¬¸ì„œê°€ í•œê¸€ë¡œ ì í˜€ ìˆê³ , ì„¤ëª…ê³¼ ê°€ì´ë“œ, Q&Aì™€ ë¬¸ì˜ê¹Œì§€ í•œê¸€ë¡œ ì§„í–‰í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë ˆí¼ëŸ°ìŠ¤ê°€ ë¶€ì¡±í•œ ìƒíƒœì—ì„œë„ êµ¬í˜„ì„ í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤.
ì´ëŸ¬í•œ ì ì€ ì •ë§ í° ë©”ë¦¬íŠ¸ë¼ê³  ìƒê°ì„ í•œë‹¤ ğŸ‘ğŸ»

## ë¼. ë†’ì€ ì„±ëŠ¥

ì†ë„ ë©´ì—ì„œ ë¹ ë¥¸ì§€ëŠ” ì˜ì€ ëª¨ë¥´ê² ë‹¤! í˜¸ì¶œì„ í•˜ëŠ” ê²½ìš° ëŠ¦ìœ¼ë©´ 5ì´ˆ ì •ë„ê°€ ê±¸ë¦´ ë•Œë„ ìˆì—ˆê¸° ë•Œë¬¸ì´ë‹¤. 
ë¬¼ë¡  ì´ëŠ” ë‚´ê°€ ìµœì í™”ë¥¼ ì˜ ëª»í–ˆì„ ìˆ˜ë„ ìˆë‹¤ ğŸ˜… 

í•˜ì§€ë§Œ ì†ë„ë³´ë‹¤ í›¨ì”¬ ì¤‘ìš”í•œ ê²ƒì´ ì‘ë‹µì˜ í€„ë¦¬í‹°ë¼ê³  ìƒê°í•˜ëŠ”ë°, ì¡°ê¸ˆ ë†€ë¼ìš¸ ì •ë„ë¡œ ì›í•˜ëŠ” ë¬¸êµ¬ë¥¼ ì˜ ì‘ë‹µí•´ì¤˜ì„œ ì‹ ê¸°í–ˆë‹¤. `Chat GPT` ì™€ë„ ë¹„êµë¥¼ í•˜ë©° ë” ë†’ì€ ì •í™•ë„ì˜ ì„œë¹„ìŠ¤ë¡œ ì‚¬ìš©ì„ í•˜ë ¤ê³  í–ˆì—ˆëŠ”ë°, í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ APIê°€ ê°œì¸ì ìœ¼ë¡œëŠ” ì¡°ê¸ˆ ë” ì›í•˜ëŠ” ë°”ë¥¼ ë§ì¶°ì¤„ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤.

ì•„ë¬´ë˜ë„ `Chat GPT`ë³´ë‹¤ í•œê¸€ì— ìµìˆ™í•˜ê¸° ë•Œë¬¸ì´ ì•„ë‹ê¹Œ..? ë¼ëŠ” ìƒê°ë„ ë“¤ì—ˆë‹¤!

---

ì§€ê¸ˆê¹Œì§€ Spring Bootì™€ ë„¤ì´ë²„ í´ë¡œë°” ìŠ¤íŠœë””ì˜¤ë¥¼ í™œìš©í•˜ì—¬ ì±—ë´‡ ê¸°ëŠ¥ì„ êµ¬í˜„í•œ ë‚´ìš©ì— ëŒ€í•´ ì •ë¦¬í•´ë³´ì•˜ë‹¤.

ì•½ 2~3ì¼ ë‚´ì— êµ¬í˜„ì„ ë§ˆì³ì„œ ë§ì´ ë¯¸ìˆ™í–ˆê³ , ì¤‘ë³µë˜ëŠ” ì½”ë“œë„ ë§ì€ ê²ƒ ê°™ì•„ ì•„ì‰¬ìš´ ë§ˆìŒ ë˜í•œ í¬ë‹¤ ğŸ¥¹

í•˜ì§€ë§Œ ìƒì„±í˜• AIë¥¼ ì²˜ìŒìœ¼ë¡œ ì—°ë™í•´ì„œ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ì—ˆìŒì— ì˜ë¯¸ë¥¼ ë‘ê³ , ì•ìœ¼ë¡œ ì´ë²ˆ ê³¼ì •ì„ í†µí•´ ì–»ì€ ì§€ì‹ì„ ì˜ í™œìš©í•´ì„œ ë” ë‚˜ì€ ê°œë°œìê°€ ë˜ê³  ì‹¶ë‹¤! ğŸ§‘ğŸ»â€ğŸ’»

ë§ˆì§€ë§‰ìœ¼ë¡œ ê°œë°œìë“¤ì—ê²Œ ë§ì€ ì§€ì›ì„ í•´ ì£¼ëŠ” `NCP Green Developers` ì¸¡ì— ê°ì‚¬ë¥¼ í‘œí•œë‹¤ ğŸ™‡ğŸ»â€â™‚ï¸
